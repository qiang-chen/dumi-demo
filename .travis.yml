
# åŸºäºTravisè‡ªåŠ¨åŒ–éƒ¨ç½²vueé¡¹ç›®èµ·é£ğŸš€

# æŒ‡å®šè¯­è¨€åŠç‰ˆæœ¬
language: node_js
node_js: stable

# å®‰è£…é¡¹ç›®åŒ…
install:
  - npm install

# è¿è¡Œè„šæœ¬
script:
  - npm run build

# è‡ªåŠ¨åŒ–ç¼–è¯‘æ¨é€GitHub
after_success:
  - cd ./dist
  - git init
  # è¿™æ˜¯å¸¸è§„çš„gitæ“ä½œ å¯ä»¥è‡ªå®šä¹‰æˆ–è€…é»˜è®¤å³å¯
  - git config --global user.name "yulin"
  - git config --global user.email "1715584439@qq.com"
  - git add .
  - git commit -m "auto_push"
  # ${vue_page}æ”¹æˆè‡ªå·±é…ç½®çš„tokenåå­— vue_pageæ˜¯æˆ‘çš„tokenåå­—
  # @github.comåé¢çš„å†…å®¹ä¹Ÿæ˜¯æ”¹æˆè‡ªå·±çš„ å…¶å®å°±æ˜¯ä»“åº“åœ°å€å»æ‰httpséƒ¨åˆ†
  - git push --quiet --force "https://${dumi_study}@github.com/qiang-chen/dumi_demo.git" master:gh-page

# è§¦å‘è‡ªåŠ¨åŒ–éƒ¨ç½²çš„åˆ†æ”¯
branches:
  only:
    - master